<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-JavaScript/JavaScript高级知识/类型化数组">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">类型化数组 | Chaowei&#x27; blog</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://blog.luoga.vip/docs/JavaScript/JavaScript高级知识/Typed_arrays"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="类型化数组 | Chaowei&#x27; blog"><meta data-rh="true" name="description" content="JavaScript 类型化数组（typed array）是一种类似数组的对象，并提供了一种用于在内存缓冲区中访问原始二进制数据的机制。"><meta data-rh="true" property="og:description" content="JavaScript 类型化数组（typed array）是一种类似数组的对象，并提供了一种用于在内存缓冲区中访问原始二进制数据的机制。"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://blog.luoga.vip/docs/JavaScript/JavaScript高级知识/Typed_arrays"><link data-rh="true" rel="alternate" href="https://blog.luoga.vip/docs/JavaScript/JavaScript高级知识/Typed_arrays" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://blog.luoga.vip/docs/JavaScript/JavaScript高级知识/Typed_arrays" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Chaowei&#39; blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Chaowei&#39; blog Atom Feed"><link rel="stylesheet" href="/assets/css/styles.92836a84.css">
<link rel="preload" href="/assets/js/runtime~main.5055f213.js" as="script">
<link rel="preload" href="/assets/js/main.3b49024c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Chaowei&#x27; blog</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">教程</a><a class="navbar__item navbar__link" href="/blog">历程</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ChaoweiLuo" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">简介</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/HTML/HTML基础/认识前端">HTML</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/CSS/CSS基础/CSS概述，选择器">CSS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/JavaScript/JavaScript基础知识/function_intro">JavaScript</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/JavaScript/JavaScript基础知识/function_intro">JavaScript基础知识</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/JavaScript/DOM/DOM的概念，对标签的操作">DOM</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/JavaScript/BOM/BOM的概念，一些BOM对象">BOM</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/JavaScript/JavaScript高级知识/Array">JavaScript高级知识</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/JavaScript/JavaScript高级知识/Array">Array</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/JavaScript/JavaScript高级知识/Web/JavaScript/Memory_Management">内存管理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/JavaScript/JavaScript高级知识/Web/JavaScript/EventLoop">并发模型与事件循环</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/JavaScript/JavaScript高级知识/Equality_comparisons_and_sameness">相等性判断</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/JavaScript/JavaScript高级知识/Typed_arrays">类型化数组</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/JavaScript/JavaScript高级知识/继承和原型">继承与原型链</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/JavaScript/JavaScript高级知识/Web/JavaScript/Closures">闭包</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/JavaScript/ES6">ES6</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/JavaScript/模块化">JS模块化</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Node.js/什么是Node.js">Node.js</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/自动化构建/Grunt">自动化构建</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Vue/vue2">Vue</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/React/入门教程">React</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Angular/Angular简介，项目搭建，组件创建，Typescript">Angular</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/nestjs">Nestjs</a><button aria-label="打开/收起侧边栏菜单「Nestjs」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/前端面试/前端面试知识点总结">前端面试</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/前端综合/canvas">前端综合</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/docker">Docker</a><button aria-label="打开/收起侧边栏菜单「Docker」" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">JavaScript</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">JavaScript高级知识</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">类型化数组</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>类型化数组</h1></header><p><strong>JavaScript 类型化数组</strong>（typed array）是一种类似数组的对象，并提供了一种用于在内存缓冲区中访问原始二进制数据的机制。</p><p><code>Array</code> 存储的对象能动态增多和减少，并且可以存储任何 JavaScript 值。JavaScript 引擎会做一些内部优化，以便对数组的操作可以很快。然而，随着 Web 应用程序变得越来越强大，尤其一些新增加的功能例如：音频视频编辑、访问 WebSockets 的原始数据等，很明显有些时候如果使用 JavaScript 代码可以快速方便地通过类型化数组来操作原始的二进制数据将会非常有帮助。JavaScript 类型化数组中的每一个元素都是原始二进制值，而二进制值采用多种支持的格式之一（从 8 位整数到 64 位浮点数）。</p><p>但是，不要把类型化数组与普通数组混淆，因为在类型数组上调用 <code>Array.isArray()</code> 会返回 <code>false</code>。此外，并不是所有可用于普通数组的方法都能被类型化数组所支持（如 push 和 pop）。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="缓冲和视图类型数组架构">缓冲和视图：类型数组架构<a href="#缓冲和视图类型数组架构" class="hash-link" aria-label="缓冲和视图：类型数组架构的直接链接" title="缓冲和视图：类型数组架构的直接链接">​</a></h2><p>为了达到最大的灵活性和效率，JavaScript 类型化数组将实现拆分为<strong>缓冲</strong>和<strong>视图</strong>两部分。缓冲（由 <code>ArrayBuffer</code> 对象实现）描述的是一个数据分块。缓冲没有格式可言，并且不提供访问其内容的机制。为了访问在缓冲对象中包含的内存，你需要使用视图。视图提供了上下文——即数据类型、起始偏移量和元素数——将数据转换为实际有类型的数组。</p><p><img loading="lazy" alt="ArrayBuffer 中的类型化数组" src="data:image/png;base64,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" width="666" height="278" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="arraybuffer">ArrayBuffer<a href="#arraybuffer" class="hash-link" aria-label="ArrayBuffer的直接链接" title="ArrayBuffer的直接链接">​</a></h3><p><code>ArrayBuffer</code> 是一种数据类型，用来表示一个通用的、固定长度的二进制数据缓冲区。你不能直接操作 <code>ArrayBuffer</code> 中的内容；你需要创建一个类型化数组的视图或一个描述缓冲数据格式的 <code>DataView</code>，使用它们来读写缓冲区中的内容。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="类型化数组视图">类型化数组视图<a href="#类型化数组视图" class="hash-link" aria-label="类型化数组视图的直接链接" title="类型化数组视图的直接链接">​</a></h3><p>类型化数组视图具有自描述性的名字和所有常用的数值类型像 <code>Int8</code>、<code>Uint32</code>、<code>Float64</code> 等等。有一种特殊类型的数组 <code>Uint8ClampedArray</code>。它仅操作 0 到 255 之间的数值。例如，这对于 <code>Canvas 数据处理</code>非常有用。</p><table><thead><tr><th>类型</th><th>值范围</th><th>字节数</th><th>描述</th><th>对应的 Web IDL 类型</th><th>等效的 C 类型</th></tr></thead><tbody><tr><td>Int8Array</td><td>-128~127</td><td>1</td><td>8 位有符号整数（补码）</td><td><code>byte</code></td><td><code>int8_t</code></td></tr><tr><td>Uint8Array</td><td>0~255</td><td>1</td><td>8 位无符号整数</td><td><code>octet</code></td><td><code>uint8_t</code></td></tr><tr><td>Uint8ClampedArray</td><td>0~255</td><td>1</td><td>8 位无符号整数（值会被裁剪）</td><td><code>octet</code></td><td><code>uint8_t</code></td></tr><tr><td>Int16Array</td><td>-32768~32767</td><td>2</td><td>16 位有符号整数（补码）</td><td><code>short</code></td><td><code>int16_t</code></td></tr><tr><td>Uint16Array</td><td>0~65535</td><td>2</td><td>16 位无符号整数</td><td><code>unsigned short</code></td><td><code>uint16_t</code></td></tr><tr><td>Int32Array</td><td>-2147483648~2147483647</td><td>4</td><td>32 位有符号整数（补码）</td><td><code>long</code></td><td><code>int32_t</code></td></tr><tr><td>Uint32Array</td><td>0~4294967295</td><td>4</td><td>32 位无符号整数</td><td><code>unsigned long</code></td><td><code>uint32_t</code></td></tr><tr><td>Float32Array</td><td><code>-3.4E38</code>~<code>3.4E38</code> 以及 <code>1.2E-38</code>（最小正数）</td><td>4</td><td>32 位 IEEE 浮点数（7 位有效数字，例如 <code>1.123456</code>）</td><td><code>unrestricted float</code></td><td><code>float</code></td></tr><tr><td>Float64Array</td><td><code>-1.8E308</code>~<code>1.8E308</code> 以及 <code>5E-324</code>（最小正数）</td><td>8</td><td>64 位 IEEE 浮点数（16 位有效数字，例如 <code>1.123...15</code>）</td><td><code>unrestricted double</code></td><td><code>double</code></td></tr><tr><td>BigInt64Array</td><td>-2<sup>63</sup>~2<sup>63</sup> - 1</td><td>8</td><td>64 位有符号整数（补码）</td><td><code>bigint</code></td><td><code>int64_t (signed long long)</code></td></tr><tr><td>BigUint64Array</td><td>0~2<sup>64</sup> - 1</td><td>8</td><td>64 位无符号整数</td><td><code>bigint</code></td><td><code>uint64_t (unsigned long long)</code></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dataview">DataView<a href="#dataview" class="hash-link" aria-label="DataView的直接链接" title="DataView的直接链接">​</a></h3><p><code>DataView</code> 是一种底层接口，它提供有可以操作缓冲区中任意数据的访问器（getter/setter）API。这对操作不同类型数据的场景很有帮助，例如：类型化数组视图都是运行在本地字节序模式，可以通过使用 <code>DataView</code> 来控制字节序。默认是大端字节序（Big-endian），但可以调用 getter/setter 方法改为小端字节序（Little-endian）。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用类型化数组的-web-api">使用类型化数组的 Web API<a href="#使用类型化数组的-web-api" class="hash-link" aria-label="使用类型化数组的 Web API的直接链接" title="使用类型化数组的 Web API的直接链接">​</a></h2><p>下面是一些使用类型化数组的 API 示例，其并不完整，我们会在未来添加更多示例。</p><ul><li><code>FileReader.prototype.readAsArrayBuffer()</code><ul><li>: <code>FileReader.prototype.readAsArrayBuffer()</code> 读取对应的 <code>Blob</code> 或 <code>File</code> 的内容</li></ul></li><li><code>XMLHttpRequest.prototype.send()</code><ul><li>: <code>XMLHttpRequest</code> 实例的 <code>send()</code> 方法现在支持使用类型化数组和 <code>ArrayBuffer</code> 对象作为参数。</li></ul></li><li><code>ImageData.data</code><ul><li>: 是一个 <code>Uint8ClampedArray</code> 对象，用来描述包含按照 RGBA 序列的颜色数据的一维数组，其值的范围在 <code>0</code> 到 <code>255</code> 之间。</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="示例">示例<a href="#示例" class="hash-link" aria-label="示例的直接链接" title="示例的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用视图和缓冲">使用视图和缓冲<a href="#使用视图和缓冲" class="hash-link" aria-label="使用视图和缓冲的直接链接" title="使用视图和缓冲的直接链接">​</a></h3><p>首先，我们创建一个 16 字节固定长度的缓冲：</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> buffer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">ArrayBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>现在我们有了一段初始化为 0 的内存，目前还做不了什么太多操作。让我们确认一下数据的字节长度：</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">byteLength</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Yes, it&#x27;s 16 bytes.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Oh no, it&#x27;s the wrong size!&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在实际开始操作这个缓冲之前，需要创建一个视图。我们将创建一个视图，此视图将把缓冲内的数据格式化为一个 32 位有符号整数数组：</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> int32View </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Int32Array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>现在我们可以像普通数组一样访问该数组中的元素：</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> int32View</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int32View</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>该代码会将数组以 <code>0</code>、<code>2</code>、<code>4</code> 和 <code>6</code> 填充（一共 4 个 4 字节元素，所以总长度为 16 字节）。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="同一数据的多个视图">同一数据的多个视图<a href="#同一数据的多个视图" class="hash-link" aria-label="同一数据的多个视图的直接链接" title="同一数据的多个视图的直接链接">​</a></h3><p>更有意思的是，你可以在同一数据上创建多个视图。例如：基于上文的代码，我们可以添加如下代码处理：</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> int16View </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Int16Array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> int16View</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Entry </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">i</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">int16View</span><span class="token template-string interpolation punctuation" style="color:#393A34">[</span><span class="token template-string interpolation">i</span><span class="token template-string interpolation punctuation" style="color:#393A34">]</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>这里我们创建了一个 16 位整数视图，该视图共享上文的 32 位整数视图的缓冲，然后以 16 位整数打印出缓冲里的数据，这次我们会得到 <code>0</code>、<code>0</code>、<code>2</code>、<code>0</code>、<code>4</code>、<code>0</code>、<code>6</code>、<code>0</code> 这样的输出。</p><p>那么，这样呢？</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">int16View</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">32</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Entry 0 in the 32-bit array is now </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">int32View</span><span class="token template-string interpolation punctuation" style="color:#393A34">[</span><span class="token template-string interpolation number" style="color:#36acaa">0</span><span class="token template-string interpolation punctuation" style="color:#393A34">]</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>这次的输出是 <code>&quot;Entry 0 in the 32-bit array is now 32&quot;</code>。也就是，这 2 个数组都是同一数据的以不同格式展示出来的视图。你可以使用任何一种<code>视图类型</code>。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用复杂的数据结构">使用复杂的数据结构<a href="#使用复杂的数据结构" class="hash-link" aria-label="使用复杂的数据结构的直接链接" title="使用复杂的数据结构的直接链接">​</a></h3><p>通过将缓冲与不同类型视图组合，以及修改内存访问的偏移量，你可以操作包含更多更复杂数据结构的数据。例如，你可以操作诸如 <code>WebGL</code> 或数据文件这些复杂的数据结构。</p><p>请看如下的 C 语言结构体：</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">someStruct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> username</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> amountDue</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>你可以采用如下代码访问一个包含此类结构体的缓冲：</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> buffer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">ArrayBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">24</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ... read the data into the buffer ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> idView </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Uint32Array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> usernameView </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Uint8Array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> amountDueView </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Float32Array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>现在你就可以通过 <code>amountDueView[0]</code> 的方式访问数据。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="转换为普通数组">转换为普通数组<a href="#转换为普通数组" class="hash-link" aria-label="转换为普通数组的直接链接" title="转换为普通数组的直接链接">​</a></h3><p>在处理完一个类型化数组后，有时需要把它转为普通数组，以便可以从 <code>Array</code> 原型中受益。可以使用 <code>Array.from()</code> 实现：</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> typedArray </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Uint8Array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> normalArray </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Array</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword module" style="color:#00009f">from</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">typedArray</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>也可以使用`operators/spread_syntax&quot;, &quot;展开语法&quot;, &quot;&quot;, 1)}}。</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> typedArray </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Uint8Array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> normalArray </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">typedArray</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果不支持 <code>Array.from()</code>，还可以使用以下代码。</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> typedArray </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Uint8Array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> normalArray </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">Array</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">slice</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">call</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">typedArray</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/JavaScript/JavaScript高级知识/Equality_comparisons_and_sameness"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">相等性判断</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/JavaScript/JavaScript高级知识/继承和原型"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">继承与原型链</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#缓冲和视图类型数组架构" class="table-of-contents__link toc-highlight">缓冲和视图：类型数组架构</a><ul><li><a href="#arraybuffer" class="table-of-contents__link toc-highlight">ArrayBuffer</a></li><li><a href="#类型化数组视图" class="table-of-contents__link toc-highlight">类型化数组视图</a></li><li><a href="#dataview" class="table-of-contents__link toc-highlight">DataView</a></li></ul></li><li><a href="#使用类型化数组的-web-api" class="table-of-contents__link toc-highlight">使用类型化数组的 Web API</a></li><li><a href="#示例" class="table-of-contents__link toc-highlight">示例</a><ul><li><a href="#使用视图和缓冲" class="table-of-contents__link toc-highlight">使用视图和缓冲</a></li><li><a href="#同一数据的多个视图" class="table-of-contents__link toc-highlight">同一数据的多个视图</a></li><li><a href="#使用复杂的数据结构" class="table-of-contents__link toc-highlight">使用复杂的数据结构</a></li><li><a href="#转换为普通数组" class="table-of-contents__link toc-highlight">转换为普通数组</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Something</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">教程</a></li></ul></div><div class="col footer__col"><div class="footer__title">Near projects</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://deyu.pub" target="_blank" rel="noopener noreferrer" class="footer__link-item">得鱼<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://vissen.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Vissen<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://aaany.xyz" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ask me anything<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.npmjs.com/~chaowei.luo" target="_blank" rel="noopener noreferrer" class="footer__link-item">Npm<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/ChaoweiLuo" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">湘ICP备2022001198号-1<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Chaowei's Blog, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5055f213.js"></script>
<script src="/assets/js/main.3b49024c.js"></script>
</body>
</html>